---
allowed-tools: Bash(gh pr create:*), Bash(jj:*)
description: Create a GitHub PR using jj and gh
---

## Context

- Current status: !`jj status`
- Current diff from `main`: !`jj diff -f main`
- Current commits from `main`: !`jj log -r main::`

## Your task

Based on the above changes:

1. **Review the changes** before proceeding:
   - Code quality and best practices
   - Potential bugs or issues
   - Performance considerations
   - Memory safety (leaks, double-frees, proper use of `errdefer`)
   - Test coverage

   Use the repository's AGENTS.md for guidance on style and conventions. If you find any issues, stop and report them to the user instead of creating the PR.

2. Add commit description if empty with appropriate commit message using `jj describe -m "Commit description"`
3. Create a new empty change using `jj new`
4. Push the change to upstream using `jj git push -c @-`
5. Get autogenerated bookmark name (should be something like `push-*`) using `jj bookmark list -r 'main+::'`
6. Create a PR using the GitHub CLI
7. Enable auto-merge with `gh pr merge <PR_NUMBER> --auto --squash`
